{"name":"WFRP4e Endeavours","type":"script","scope":"global","author":"CFuphnvvMWNN4aGH","img":"icons/svg/clockwork.svg","command":"// Macro for GM to request endeavours from selected players\nconst tokens = canvas.tokens.controlled.filter((t) => ['character'].includes(t.actor.type));\n\nif (tokens.length === 0) {\n    ui.notifications.error(game.i18n.localize(\"WFRP4eEndeavours.NoToken\"));\n} else {\n    let chatData = { \n        content: game.i18n.localize(\"WFRP4eEndeavours.Request\"), \n    }; \n    ChatMessage.create(chatData, {}); \n    tokens.map((p) => p.actor).forEach((actor) => \n    game.socket.emit('module.wfrp4e-endeavours', {\n      operation: 'playerEndeavour',\n      actor\n  }));\n}","flags":{"advanced-macros":{"runAsGM":false,"runForEveryone":true,"runForSpecificUser":""},"core":{"sourceId":"Macro.j2JmsEsiz3esHtIq"}},"_stats":{"systemId":"wfrp4e","systemVersion":"6.2.2","coreVersion":"10.291","createdTime":1669637334021,"modifiedTime":1672245156457,"lastModifiedBy":"CFuphnvvMWNN4aGH"},"ownership":{"default":0,"CFuphnvvMWNN4aGH":3},"folder":null,"sort":0,"_id":"mHfgPiOY03aQ7Wg8"}
